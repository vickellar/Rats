-- Create the 'clearance_requests' table
CREATE TABLE clearance_requests (
    request_id INT AUTO_INCREMENT PRIMARY KEY,  -- Unique ID for each request
    user_id INT NOT NULL,                       -- Reference to the user who submitted the request
    property_address VARCHAR(255) NOT NULL,     -- Address of the property for the clearance request
    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- Date and time of the request
    status ENUM('Pending', 'Approved', 'Rejected') DEFAULT 'Pending', -- Status of the request
    remarks TEXT,                               -- Remarks or additional comments from the approver
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, -- Timestamp for last update
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE -- Foreign key to the 'users' table
);



the Script for the registrtion form

-- Create the database
CREATE DATABASE rate_clearance;

-- Use the newly created database
USE rate_clearance;

-- Create the users table
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    surname VARCHAR(50) NOT NULL,
    username VARCHAR(50) NOT NULL UNIQUE,
    employee_id VARCHAR(50),
    email VARCHAR(100) NOT NULL UNIQUE,
    role VARCHAR(50) NOT NULL,
    password VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Add a unique index on username and email
CREATE UNIQUE INDEX idx_username ON users (username);
CREATE UNIQUE INDEX idx_email ON users (email);
